<!--
  登录页面
  手机号验证码登录
-->
<view class="login-page">
  <!-- 装饰背景 -->
  <view class="bg-decoration">
    <view class="bg-circle bg-circle-1"></view>
    <view class="bg-circle bg-circle-2"></view>
  </view>

  <!-- 主内容区 -->
  <view class="login-content">
    <!-- Logo 和标题 -->
    <view class="login-header">
      <view class="logo-wrapper">
        <t-icon name="shop" size="80rpx" color="#ffffff" />
      </view>
      <view class="app-title">普惠农录</view>
      <view class="app-subtitle">智慧农业 · 数据驱动 · 便捷管理</view>
    </view>

    <!-- 登录表单 -->
    <view class="login-form">
      <view class="form-card">
        <!-- 手机号输入 -->
        <view class="input-group">
          <view class="input-icon">
            <t-icon name="mobile" size="40rpx" color="#059669" />
          </view>
          <input 
            class="input-field"
            type="number"
            maxlength="11"
            placeholder="请输入手机号"
            placeholder-class="input-placeholder"
            value="{{phone}}"
            bindinput="onPhoneInput"
          />
        </view>

        <!-- 分割线 -->
        <view class="input-divider"></view>

        <!-- 密码输入 -->
        <view class="input-group">
          <view class="input-icon">
            <t-icon name="lock-on" size="40rpx" color="#059669" />
          </view>
          <input 
            class="input-field"
            type="{{showPassword ? 'text' : 'password'}}"
            placeholder="请输入密码"
            placeholder-class="input-placeholder"
            value="{{password}}"
            bindinput="onPasswordInput"
          />
          <view class="password-eye" bindtap="togglePassword">
            <t-icon name="{{showPassword ? 'browse' : 'browse-off'}}" size="40rpx" color="#9ca3af" />
          </view>
        </view>
      </view>

      <!-- 测试账号提示 -->
      <view class="test-accounts">
        <view class="test-title">测试账号</view>
        <view class="test-item">助理：13800001111 / 123456</view>
        <view class="test-item">仓管：13800002222 / 123456</view>
        <view class="test-item">财务：13800003333 / 123456</view>
        <view class="test-item">管理员：13900000000 / admin123</view>
      </view>

      <!-- 登录按钮 -->
      <view class="login-btn-wrapper">
        <button 
          class="login-btn"
          bindtap="handleLogin"
          loading="{{logging}}"
        >
          <text>登录系统</text>
          <t-icon wx:if="{{!logging}}" name="chevron-right" size="40rpx" color="#ffffff" />
        </button>
      </view>

    </view>

  </view>

  <!-- Toast 提示 -->
  <t-toast 
    id="t-toast" 
    visible="{{toastVisible}}" 
    message="{{toastMessage}}"
    theme="text"
    direction="column"
    bind:close="onToastClose"
  />
</view>

